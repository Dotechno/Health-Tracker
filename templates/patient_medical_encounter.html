{% extends "dashboard.html" %}
{% block main_content %}
<html>

<head>
    <title>Medical Encounter</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css" rel="stylesheet">
    <link href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.3.6/css/buttons.dataTables.min.css">
    <link rel="stylesheet" href="../static/css/physician.css">

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>

    <script src="https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.print.min.js"></script>

    <script src="../static/javascript/physcian.js"></script>
</head>

<body>
    <a href="../create_medical_encounter" class="btn btn-primary">Create Medical Encounter</a>
        {%for me in mes %}
        <div class="project-boxes jsGridView">
            <div class="project-box-wrapper">
                <div class="project-box" style="background-color: #fee4cb;">
                    <div class="project-box-header">
                        <span>{{me.encounter_date}}</span>
                        <div class="more-wrapper">
                            {{me.patient_id}}
                        </div>
                    </div>
                    <div class="project-box-content-header">
                        <p class="box-content-header">{{me.diagnosis}}</p>
                        <p class="box-content-subheader">{{me.treatment}}</p>
                    </div>
                    <div class="box-progress-wrapper">
                        <p class="box-progress-header">Recommended Follow Up</p>
                        <p class="box-content-subheader" style="text-align: center">{{me.recommended_followup}}</p>
                    </div>
                    <div class="project-box-footer">
                        <div class="participants">
                            <span>{{me.practitioner_type}}</span>
                            <button class="add-participant" style="color: #ff942e;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-plus">
                                    <path d="M12 5v14M5 12h14" />
                                </svg>
                            </button>
                        </div>
                        <button class="days-left" style="color: #ff942e; border:none" id =  "open-modal" >
                            View More
                        </button>
                        <div id="modal" class="modal">
                            <div class="modal-content">
                                <span id="close-modal" class="close">&times;</span>
                                <h2>Medical Encounter Detail</h2>
                                <span>Referral to Specialist: {{me.referral}}</span>
                                <span>Submission Date: {{me.submission_date}}</span>
                                <span>Complaint: {{me.complaint}}</span>
                                <span>Doctor's Notes: {{me.notes}}</span>
                                <span>treatment: {{me.treatment}}</span>
                                
                            </div>
                            <script>
                                // Get the modal element
                                var modal = document.getElementById("modal");
                
                                // Get the button that opens the modal
                                var btn = document.getElementById("open-modal");
                
                                // Get the <span> element that closes the modal
                                var span = document.getElementById("close-modal");
                
                                // When the user clicks the button, open the modal
                                btn.onclick = function () {
                                    modal.style.display = "block";
                                }
                
                                // When the user clicks on <span> (x), close the modal
                                span.onclick = function () {
                                    modal.style.display = "none";
                                }
                
                                // When the user clicks anywhere outside of the modal, close it
                                window.onclick = function (event) {
                                    if (event.target == modal) {
                                        modal.style.display = "none";
                                    }
                                }
                            </script>
                        
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}

        


            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
{% endblock %}